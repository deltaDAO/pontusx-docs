# DDO Schema

![OE Verifiable Presentation](/images/DDO/diagrams/w3c_presentation.svg)
:::details[mermaid]
```mermaid
classDiagram
    class `W3C Verifiable Presentation` {
    }
    class `OE Service Credential` {
    }
    class `W3C Verifiable Credential` {
    }
    class CredentialSubject {
    }
 
    `W3C Verifiable Presentation` "1" --> "1..*" `OE Service Credential` : contains
    `OE Service Credential` "1" --> "1" CredentialSubject : defines
    `W3C Verifiable Credential` <|-- `OE Service Credential` : is a type of
```
:::

## Verifiable Presentation (off-chain metadata object)

| Attribute              | Type                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Required           |
| ---------------------- | ------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ |
| `@context`             | Array of `string`               | The value of the `@context` [property](https://w3c.github.io/vc-data-model/#dfn-property) _MUST_ be an [ordered set](https://infra.spec.whatwg.org/#ordered-set) where the first item is a [URL](https://w3c.github.io/vc-data-model/#dfn-url) with the value `https://www.w3.org/ns/credentials/v2`. Subsequent items in the [ordered set](https://infra.spec.whatwg.org/#ordered-set) _MUST_ be composed of any combination of [URLs](https://w3c.github.io/vc-data-model/#dfn-url) and/or objects, where each is processable as a [JSON-LD Context](https://www.w3.org/TR/json-ld11/#the-context). | :white_check_mark: |
| `type`                 | Array of `string`               | `["VerifiablePresentation", "OceanEnterpriseServicePresentation"]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :white_check_mark: |
| `verifiableCredential` | Array of `VerifiableCredential` | Contains Verifiable credentials in enveloped format (`EnvelopedVerifiableCredential`) .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | :white_check_mark: |

## OE Service Credential (DDO)

This is a W3C verifiable credential.

| Attribute           | Type                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Required                                                                              |
| ------------------- | --------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| `@context`          | Array of `string`                       | The value of the `@context` [property](https://w3c.github.io/vc-data-model/#dfn-property) _MUST_ be an [ordered set](https://infra.spec.whatwg.org/#ordered-set) where the first item is a [URL](https://w3c.github.io/vc-data-model/#dfn-url) with the value `https://www.w3.org/ns/credentials/v2`. Subsequent items in the [ordered set](https://infra.spec.whatwg.org/#ordered-set) _MUST_ be composed of any combination of [URLs](https://w3c.github.io/vc-data-model/#dfn-url) and/or objects, where each is processable as a [JSON-LD Context](https://www.w3.org/TR/json-ld11/#the-context).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :white_check_mark:                                                                    |
| `id`                | `string` (URL)                          | If present, the value of the `id` [property](https://w3c.github.io/vc-data-model/#dfn-property) _MUST_ be a single [URL](https://w3c.github.io/vc-data-model/#dfn-url), which _MAY_ be dereferenceable. It is _RECOMMENDED_ that the [URL](https://w3c.github.io/vc-data-model/#dfn-url) in the `id` be one which, if dereferenceable, results in a document containing machine-readable information about the `id`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | The `id` [property](https://w3c.github.io/vc-data-model/#dfn-property) is _OPTIONAL_. |
| `type`              | Array of `string`                       | `["VerifiableCredential", "OceanEnterpriseServiceCredential"]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | :white_check_mark:                                                                    |
| `credentialSubject` | [credentialSubject](#credentialsubject) | A [verifiable credential](https://w3c.github.io/vc-data-model/#dfn-verifiable-credential) _MUST_ have a `credentialSubject` [property](https://w3c.github.io/vc-data-model/#dfn-property).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | :white_check_mark:                                                                    |
| `issuer`            | `string` (URL)                          | A [verifiable credential](https://w3c.github.io/vc-data-model/#dfn-verifiable-credential) _MUST_ have an `issuer` [property](https://w3c.github.io/vc-data-model/#dfn-property). The value of the `issuer` [property](https://w3c.github.io/vc-data-model/#dfn-property) _MUST_ be either a [URL](https://w3c.github.io/vc-data-model/#dfn-url), or an object containing an `id` [property](https://w3c.github.io/vc-data-model/#dfn-property) whose value is a [URL](https://w3c.github.io/vc-data-model/#dfn-url); in either case, the issuer selects this [URL](https://w3c.github.io/vc-data-model/#dfn-url) to identify itself in a globally unambiguous way. It is _RECOMMENDED_ that the [URL](https://w3c.github.io/vc-data-model/#dfn-url) be one which, if dereferenced, results in a controller document, as defined in [[VC-DATA-INTEGRITY](https://w3c.github.io/vc-data-model/#bib-vc-data-integrity)] or [[VC-JOSE-COSE](https://w3c.github.io/vc-data-model/#bib-vc-jose-cose)], about the [issuer](https://w3c.github.io/vc-data-model/#dfn-issuers) that can be used to [verify](https://w3c.github.io/vc-data-model/#dfn-verify) the information expressed in the [credential](https://w3c.github.io/vc-data-model/#dfn-credential). More info [here](https://w3c.github.io/vc-data-model/#issuer). | :white_check_mark:                                                                    |
| `version`           | `string`                                | Version number of "OE Service Credential" standard in [SemVer](https://semver.org) notation referring to this DDO spec version, like `1.0.0`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                                                                                       |




## credentialSubject

![CredentialSubject](/images/DDO/diagrams/credential_subject.svg)
:::details[mermaid]
```mermaid
---
title: CredentialSubject
---
classDiagram

    class CredentialSubject {
    }

    class Metadata {
    }
    class Credentials {
    }

    class AlgorithmMetadata["AlgorithmMetadata\n(for algorithm type)"] {
    }

    class Container {
    }
    class Service {
    }
    class ConsumerParameters["Consumer\nParameters"] {
    }
    class Compute {
    }

    CredentialSubject "1" --> "1" Metadata
    CredentialSubject "1" --> "0..*" Credentials
    CredentialSubject "1" --> "1..*" Service

    Metadata "1" --> "0..1" AlgorithmMetadata
    AlgorithmMetadata "1" --> "1" Container
    AlgorithmMetadata "1" --> "0..*" ConsumerParameters

    Service "1" --> "0..1" Compute
    Service "1" --> "0..*" ConsumerParameters


```
:::

| Attribute     | Type                                          | Description                                                                                                                                                                                                                                                                                                                                                                                                          | Required                                                                              |
| ------------- | --------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| `id`          |                                               | If present, the value of the `id` [property](https://w3c.github.io/vc-data-model/#dfn-property) _MUST_ be a single [URL](https://w3c.github.io/vc-data-model/#dfn-url), which _MAY_ be dereferenceable. It is _RECOMMENDED_ that the [URL](https://w3c.github.io/vc-data-model/#dfn-url) in the `id` be one which, if dereferenceable, results in a document containing machine-readable information about the `id`. | The `id` [property](https://w3c.github.io/vc-data-model/#dfn-property) is _OPTIONAL_. |
| `metadata`    | [`metadata`](/docs/ddo_credential/metadata)        |                                                                                                                                                                                                                                                                                                                                                                                                                      | :white_check_mark:                                                                    |
| `services`    | Array of [`service`](/docs/ddo_credential/service) |                                                                                                                                                                                                                                                                                                                                                                                                                      | :white_check_mark:                                                                    |
| `credentials` | [`credentials`](/docs/ddo_credential/credentials)  |                                                                                                                                                                                                                                                                                                                                                                                                                      | :white_check_mark: TODO discuss new secure default                                    |
| `chainId`     | `number`                                      | Stores the chainId of the network the DDO was published to.                                                                                                                                                                                                                                                                                                                                                          | :white_check_mark:                                                                    |
| `nftAddress`  | `string`                                      | NFT contract linked to this asset                                                                                                                                                                                                                                                                                                                                                                                    | :white_check_mark:                                                                    |
